<!--Author Weixiang Gao-->

<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/6.4.0/
	firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.4.0/firebase-database.js">
    </script>
    <script src='js/loginfunction.js'>
    </script>
    <meta charset="UTF-8">
    <title>Register</title>
    <link rel="stylesheet" href="css/Register.css">
</head>
<body>
<header>
    <div class="header-line"></div>
</header>
<div class="nav">
    <!--  <ul>
         <li><a href="main.html">MainPage</a></li>
     </ul> -->
</div>
<div class="content-title"> <lable>Already have an account？</lable>
    <a href="login.html">Login Now</a></div>

<div class="content">
    <h1 class="content-title">ONLINE AUCTION SIGN UP</h1>
    <div class="content-form">
        <form>
            <div>
                <label>First Name:</label>
                <input id="fname" class="user" type="text" name="firstName" placeholder="First Name" onblur="oBlur_2()" onfocus="oFocus_1()">
            </div>

            <div>
                <label>Last Name:</label>
                <input id="lname" class="user" type="text" name="lastName" placeholder="Last Name" onblur="oBlur_2()" onfocus="oFocus_1()">
            </div>

            <div>
                <label>Email:</label>
                <input id="emailaddress" class="user" type="text" name="email" placeholder="Email" onblur="oBlur_2()" onfocus="oFocus_1()">
            </div>

            <div>
                <label>Phone:</label>
                <input id="phone" class="user" type="text" name="phone" placeholder="Phone" onblur="oBlur_2()" onfocus="oFocus_1()">
            </div>

            <div>
                <label>Date of Birth:</label>
                <input id="DOB" class="user" type="date" name="DOB" placeholder="DD/MM/YYYY" onblur="oBlur_2()" onfocus="oFocus_1()">
            </div>

            <div>
                <label>Street Name:</label>
                <input id="streetname" class="user" type="text" name="streetName" placeholder="Street Name" onblur="oBlur_2()" onfocus="oFocus_1()">
            </div>

            <div>
                <label>Street Number:</label>
                <input id="streetnumber" class="user" type="text" name="streetNumber" placeholder="Street Number" onblur="oBlur_2()" onfocus="oFocus_1()">
            </div>

            <div>
                <label>Postcode:</label>
                <input id="postcode" class="user" type="text" name="postcode" placeholder="Postcode" onblur="oBlur_2()" onfocus="oFocus_1()">
            </div>

            <div>
                <label>State:</label>
                <input id="state" class="user" type="text" name="state" placeholder="State" onblur="oBlur_2()" onfocus="oFocus_1()">
            </div>

            <div>
                <label>Username:</label>
                <input id="username" class="user" type="text" name="username" placeholder="Username" onblur="oBlur_2()" onfocus="oFocus_1()">
            </div>

            <div>
                <label>Password:</label>
                <input id="password" class="password" type="password" name="password" placeholder="Password" onblur="oBlur_2()" onfocus="oFocus_1()">
            </div>

            <div id="submit">
                <button type="submit" class="content-form-signup" value="Register">Sign up</button>
            </div>
        </form>
    </div>
</div>
<script src="js/jquery.min.js"></script>
<script type="text/javascript">

    $('button[type="submit"]')[0].onclick=function(event){
        var firstName=$("input[name='firstName']"),
            lastName=$("input[name='lastName']"),
            email=$("input[name='email']"),
            password=$("input[name='password']"),
            phone=$("input[name='phone']"),
            streetName=$("input[name='streetName']"),
            streetNumber=$("input[name='streetNumber']"),
            DOB=$("input[name='DOB']"),
            state=$("input[name='state']"),
            postcode=$("input[name='postcode']"),
            username=$("input[name='username']");
        if(firstName.val()==""|| lastName.val()==""|| email.val()==""|| password.val()==""|| phone.val()==""|| streetName.val()==""|| streetNumber.val()==""|| DOB.val()==""|| state.val()==""|| postcode.val()==""|| username.val()=="") {
            event.preventDefault();
            alert("information not complete！");}
        else{
            handleRegister();
            alert("Sign Up Succeed!");
        }
    };
    function oBlur_2(){
        var firstName=$("input[name='firstName']"),
            lastName=$("input[name='lastName']"),
            email=$("input[name='email']"),
            password=$("input[name='password']"),
            phone=$("input[name='phone']"),
            streetName=$("input[name='streetName']"),
            streetNumber=$("input[name='streetNumber']"),
            DOB=$("input[name='DOB']"),
            state=$("input[name='state']"),
            postcode=$("input[name='postcode']"),
            username=$("input[name='username']");
    }
    var key=1;
    //验证 不可空
    function empty_input(name,re,info){
        if($("input[name='"+name+"']").length==0){ return;}

        $("input[name='"+name+"']")[0].onblur = function(){
            var value=this.value;
            if(value=="" && key==1){
                key=0;
                alert(name+" can not be empty！");
            }else if(value!="" && re!="" && !(re.test(value))){
                alert(info);
            }
        }
        $("input[name='"+name+"']")[0].onfocus = function(){
            setTimeout(function(){key=1;},2000)
        }
    }
    empty_input("password","","");
    empty_input("streetName","","");
    empty_input("streetNumber","","");
    empty_input("state","","");
    empty_input("postcode","","");
    empty_input("username","","");
    empty_input("firstName",/[A-Za-z]/,"firstName only contain letters！");
    empty_input("lastName",/[A-Za-z]/,"lastName only contain letters！");
    empty_input("phone",/^0\d{9}$/,"phone number format wrong！");
    var reEmail =/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/;
    empty_input("email",reEmail,"email format wrong！");
</script>
</body>
</html>
